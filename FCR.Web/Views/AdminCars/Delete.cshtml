@model FCR.Web.Services.Base.CarResponseDto
@{
    ViewData["Title"] = "Delete Car";
}

<div class="min-h-screen bg-gray-50 pt-24 pb-12">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Header -->
        <div class="mb-8">
            <div class="flex items-center space-x-4 mb-4">
                <a asp-action="Index" class="text-gray-600 hover:text-primary-600 transition-colors">
                    <i class="fas fa-arrow-left text-xl"></i>
                </a>
                <h1 class="text-4xl font-bold text-red-600">Delete Car</h1>
            </div>
            <p class="text-gray-600">Are you sure you want to delete this car?</p>
        </div>

        <!-- Error Messages -->
        @if (TempData["ErrorMessage"] != null)
        {
            <div class="mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center">
                <i class="fas fa-exclamation-circle mr-3"></i>
                <span>@TempData["ErrorMessage"]</span>
            </div>
        }

        <!-- Warning Card -->
        <div class="bg-red-50 border-2 border-red-200 rounded-lg p-6 mb-8">
            <div class="flex items-start space-x-4">
                <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-triangle text-red-600 text-3xl"></i>
                </div>
                <div>
                    <h3 class="text-lg font-bold text-red-900 mb-2">Warning: This action cannot be undone!</h3>
                    <p class="text-red-800">Deleting this car will permanently remove it from your fleet along with all its images and associated data.</p>
                </div>
            </div>
        </div>

        <!-- Car Details Card -->
        <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
            
            <!-- Car Image -->
            <div class="relative h-64 bg-gray-200">
                @if (!string.IsNullOrEmpty(Model.PrimaryImageUrl))
                {
                    <img src="@Model.PrimaryImageUrl" alt="@Model.Brand @Model.ModelName" class="w-full h-full object-cover">
                }
                else
                {
                    <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-300 to-gray-400">
                        <i class="fas fa-car text-8xl text-gray-500"></i>
                    </div>
                }
            </div>

            <!-- Car Details -->
            <div class="p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">@Model.Brand @Model.ModelName</h2>
                
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-th-large text-gray-500"></i>
                        <span class="text-gray-700"><span class="font-semibold">Category:</span> @Model.Category</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-calendar-alt text-gray-500"></i>
                        <span class="text-gray-700"><span class="font-semibold">Year:</span> @Model.Year</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-cog text-gray-500"></i>
                        <span class="text-gray-700"><span class="font-semibold">Transmission:</span> @Model.Transmission</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-gas-pump text-gray-500"></i>
                        <span class="text-gray-700"><span class="font-semibold">Fuel Type:</span> @Model.FuelType</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-users text-gray-500"></i>
                        <span class="text-gray-700"><span class="font-semibold">Seats:</span> @Model.Seats</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-dollar-sign text-gray-500"></i>
                        <span class="text-gray-700"><span class="font-semibold">Daily Rate:</span> $@Model.DailyRate.ToString("F2")</span>
                    </div>
                </div>

                @if (Model.TotalBookings > 0)
                {
                    <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                        <div class="flex items-center">
                            <i class="fas fa-info-circle text-yellow-600 mr-3"></i>
                            <p class="text-yellow-800">
                                This car has <span class="font-bold">@Model.TotalBookings booking@(Model.TotalBookings != 1 ? "s" : "")</span> in its history.
                            </p>
                        </div>
                    </div>
                }
            </div>
        </div>

        <!-- Confirmation Form -->
        <form asp-action="Delete" method="post">
            @Html.AntiForgeryToken()
            <input type="hidden" asp-for="CarId" />
            
            <div class="flex justify-between items-center space-x-4">
                <a asp-action="Details" asp-route-id="@Model.CarId" class="flex-1 px-6 py-3 bg-gray-200 text-gray-700 text-center rounded-lg font-medium hover:bg-gray-300 transition-colors">
                    <i class="fas fa-times mr-2"></i>Cancel
                </a>
                <button type="submit" class="flex-1 px-6 py-3 bg-red-600 text-white text-center rounded-lg font-semibold hover:bg-red-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl">
                    <i class="fas fa-trash-alt mr-2"></i>Yes, Delete This Car
                </button>
            </div>
        </form>

        <!-- Back Link -->
        <div class="mt-6 text-center">
            <a asp-action="Index" class="text-primary-600 hover:text-primary-700 font-medium">
                <i class="fas fa-arrow-left mr-2"></i>Back to Car List
            </a>
        </div>
    </div>
</div>
